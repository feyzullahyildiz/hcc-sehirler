{"version":3,"sources":["config.js","index.js"],"names":["url","module","exports","cities","require","centroids","config","map","document","querySelector","mapHeader","menu","loadSvg","data","xSpace","ySpace","pointArray","totalMosqueCount","index","features","feature","code","properties","ILKOD","name","NAME","geometry","coordinates","x","y","parseInt","polygon","points","_x","_y","sayi","a","b","c","JSON","stringify","success","isNaN","innerHTML","svg","querySelectorAll","city","categoryA","categoryB","categoryC","categoryTotal","countOfMosque","citiesPolygons","oldPolygons","onEnter","forEach","oldPolygon","style","fill","push","parse","opacity","cityData","onLeave","addEventListener","fetch","then","json"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,GAAG,GAAG,oCAAZ;AAGAC,MAAM,CAACC,OAAP,GAAiB;AACbF,EAAAA,GAAG,EAAHA;AADa,CAAjB;;;;;;;;;;;;;;ACHA,IAAMG,MAAM,GAAGC,OAAO,CAAC,cAAD,CAAtB;;AACA,IAAMC,SAAS,GAAGD,OAAO,CAAC,mBAAD,CAAzB;;AACA,IAAME,MAAM,GAAGF,OAAO,CAAC,UAAD,CAAtB;;AACA,IAAMG,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,iDAAvB,CAAZ;AACA,IAAMC,SAAS,GAAGF,QAAQ,CAACC,aAAT,CAAuB,wDAAvB,CAAlB;AACA,IAAME,IAAI,GAAGH,QAAQ,CAACC,aAAT,CAAuB,uCAAvB,CAAb,EAEA;;AACA,IAAMG,OAAO,GAAG,SAAVA,OAAU,CAASC,IAAT,EAAc;AAC1B,MAAMC,MAAM,GAAG,IAAf;AACA,MAAMC,MAAM,GAAG,IAAf;AACA,MAAIC,UAAU,GAAG,EAAjB;AACA,MAAIC,gBAAgB,GAAG,CAAvB;;AACA,OAAI,IAAMC,KAAV,IAAmBf,MAAM,CAACgB,QAA1B,EAAmC;AAC/B,QAAMC,OAAO,GAAGjB,MAAM,CAACgB,QAAP,CAAgBD,KAAhB,CAAhB;AACA,QAAMG,IAAI,GAAGhB,SAAS,CAACc,QAAV,CAAmBD,KAAnB,EAA0BI,UAA1B,CAAqCC,KAAlD;AACA,QAAMC,IAAI,GAAGnB,SAAS,CAACc,QAAV,CAAmBD,KAAnB,EAA0BI,UAA1B,CAAqCG,IAAlD;;AAH+B,+CAIlBpB,SAAS,CAACc,QAAV,CAAmBD,KAAnB,EAA0BQ,QAA1B,CAAmCC,WAJjB;AAAA,QAI1BC,CAJ0B;AAAA,QAIvBC,CAJuB;;AAK/BD,IAAAA,CAAC,GAAGE,QAAQ,CAAEF,CAAC,GAAC,IAAH,GAAWd,MAAZ,CAAZ;AACAe,IAAAA,CAAC,GAAGC,QAAQ,CAACf,MAAM,GAAIc,CAAC,GAAC,IAAb,CAAZ;AACAb,IAAAA,UAAU,SAAV;AAP+B;AAAA;AAAA;;AAAA;AAQ/B,2BAAsBI,OAAO,CAACM,QAAR,CAAiBC,WAAvC,8HAAoD;AAAA,YAAzCI,OAAyC;AAChD,YAAIC,MAAM,GAAG,EAAb;AADgD;AAAA;AAAA;;AAAA;AAEhD,gCAAuBD,OAAO,CAAC,CAAD,CAA9B,mIAAmC;AAAA;AAAA,gBAAvBE,EAAuB;AAAA,gBAAnBC,EAAmB;;AAC/BF,YAAAA,MAAM,cAAOF,QAAQ,CAAEG,EAAE,GAAC,IAAJ,GAAYnB,MAAb,CAAf,cAAuCgB,QAAQ,CAACf,MAAM,GAAImB,EAAE,GAAC,IAAd,CAA/C,MAAN;AACH;AAJ+C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKhDlB,QAAAA,UAAU,gCAAuBgB,MAAvB,SAAV;AACH;AAd8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAe/B,QAAGnB,IAAI,CAACQ,IAAD,CAAJ,IAAcR,IAAI,CAACQ,IAAD,CAAJ,CAAWc,IAA5B,EAAiC;AAC7BlB,MAAAA,gBAAgB,IAAIJ,IAAI,CAACQ,IAAD,CAAJ,CAAWc,IAA/B;AACH;;AACDnB,IAAAA,UAAU,kCACCY,CADD,oBACUC,CADV,2EAEwBhB,IAAI,CAACQ,IAAD,CAAJ,GAAcR,IAAI,CAACQ,IAAD,CAAJ,CAAWe,CAAX,GAAevB,IAAI,CAACQ,IAAD,CAAJ,CAAWgB,CAA1B,GAA8BxB,IAAI,CAACQ,IAAD,CAAJ,CAAWiB,CAAvD,GAA2D,GAFnF,8DAIEzB,IAAI,CAACQ,IAAD,CAAJ,GAAakB,IAAI,CAACC,SAAL,mBAAmB3B,IAAI,CAACQ,IAAD,CAAvB;AAA+BG,MAAAA,IAAI,EAAJA,IAA/B;AAAqCiB,MAAAA,OAAO,EAAE;AAA9C,OAAb,GAAmEF,IAAI,CAACC,SAAL,CAAe;AAAChB,MAAAA,IAAI,EAAJA;AAAD,KAAf,CAJrE,0BAAV;AAMH;;AACD,MAAG,CAACkB,KAAK,CAACzB,gBAAD,CAAT,EAA4B;AACxBP,IAAAA,SAAS,CAACiC,SAAV,GAAsB,iBAAiB1B,gBAAvC;AACH;;AACD,MAAI2B,GAAG,sEAEL5B,UAFK,uBAAP;AAKAT,EAAAA,GAAG,CAACoC,SAAJ,GAAgBC,GAAhB;;AAtC0B,8BAwCoDjC,IAAI,CAACkC,gBAAL,CAAsB,SAAtB,CAxCpD;AAAA;AAAA,MAwCnBC,IAxCmB;AAAA,MAwCbC,SAxCa;AAAA,MAwCFC,SAxCE;AAAA,MAwCSC,SAxCT;AAAA,MAwCoBC,aAxCpB;AAAA,MAwCmCC,aAxCnC,8BAyC1B;;;AACA,MAAMC,cAAc,GAAG7C,GAAG,CAACsC,gBAAJ,CAAqB,OAArB,CAAvB;AACA,MAAIQ,WAAJ;;AACA,MAAMC,OAAO,GAAG,SAAVA,OAAU,GAAU;AACtB,QAAGD,WAAH,EAAe;AACXA,MAAAA,WAAW,CAACE,OAAZ,CAAoB,UAAAC,UAAU,EAAI;AAC9BA,QAAAA,UAAU,CAACC,KAAX,CAAiBC,IAAjB,GAAwB,EAAxB;AACH,OAFD;AAGH;;AACDL,IAAAA,WAAW,GAAG,EAAd;AACA,SAAKR,gBAAL,CAAsB,SAAtB,EAAiCU,OAAjC,CAAyC,UAAAxB,OAAO,EAAI;AAChDsB,MAAAA,WAAW,CAACM,IAAZ,CAAiB5B,OAAjB;AACAA,MAAAA,OAAO,CAAC0B,KAAR,CAAcC,IAAd,GAAqB,SAArB;AACH,KAHD;AAIA,QAAM7C,IAAI,GAAG,KAAKJ,aAAL,CAAmB,MAAnB,CAAb;;AACA,QAAGI,IAAI,CAAC8B,SAAL,IAAkBJ,IAAI,CAACqB,KAAL,CAAW/C,IAAI,CAAC8B,SAAhB,EAA2BF,OAAhD,EAAwD;AACpD;AACA9B,MAAAA,IAAI,CAAC8C,KAAL,CAAWI,OAAX,GAAqB,CAArB;AACA,UAAMC,QAAQ,GAAGvB,IAAI,CAACqB,KAAL,CAAW/C,IAAI,CAAC8B,SAAhB,CAAjB;AACAG,MAAAA,IAAI,CAACH,SAAL,GAAiBmB,QAAQ,CAACtC,IAA1B;AACAuB,MAAAA,SAAS,CAACJ,SAAV,GAAsBmB,QAAQ,CAAC1B,CAA/B;AACAY,MAAAA,SAAS,CAACL,SAAV,GAAsBmB,QAAQ,CAACzB,CAA/B;AACAY,MAAAA,SAAS,CAACN,SAAV,GAAsBmB,QAAQ,CAACxB,CAA/B;AACAY,MAAAA,aAAa,CAACP,SAAd,GAA0BmB,QAAQ,CAAC1B,CAAT,GAAa0B,QAAQ,CAACzB,CAAtB,GAA0ByB,QAAQ,CAACxB,CAA7D;AACAa,MAAAA,aAAa,CAACR,SAAd,GAA0BmB,QAAQ,CAAC3B,IAAnC;AACH,KAVD,MAUK;AACD;AACAW,MAAAA,IAAI,CAACH,SAAL,GAAiBJ,IAAI,CAACqB,KAAL,CAAW/C,IAAI,CAAC8B,SAAhB,EAA2BnB,IAA5C;AACAuB,MAAAA,SAAS,CAACJ,SAAV,GAAsB,CAAtB;AACAK,MAAAA,SAAS,CAACL,SAAV,GAAsB,CAAtB;AACAM,MAAAA,SAAS,CAACN,SAAV,GAAsB,CAAtB;AACAO,MAAAA,aAAa,CAACP,SAAd,GAA0B,CAA1B;AACAQ,MAAAA,aAAa,CAACR,SAAd,GAA0B,CAA1B;AACH;AACJ,GA/BD;;AAgCA,MAAMoB,OAAO,GAAG,SAAVA,OAAU,GAAU;AACtB,SAAKlB,gBAAL,CAAsB,SAAtB,EAAiCU,OAAjC,CAAyC,UAAAxB,OAAO,EAAI;AAChDA,MAAAA,OAAO,CAAC0B,KAAR,CAAcC,IAAd,GAAqB,EAArB;AACH,KAFD;AAGA/C,IAAAA,IAAI,CAAC8C,KAAL,CAAWI,OAAX,GAAqB,CAArB;AACH,GALD,CA5E0B,CAkF1B;AACA;AACA;AACA;;;AACAT,EAAAA,cAAc,CAACG,OAAf,CAAuB,UAAAT,IAAI,EAAI;AAC3BA,IAAAA,IAAI,CAACkB,gBAAL,CAAsB,OAAtB,EAA+BV,OAA/B,EAD2B,CAE3B;AACA;AACH,GAJD;AAKH,CA3FD;;AA6FAW,KAAK,CAAC3D,MAAM,CAACN,GAAR,CAAL,CAAkBkE,IAAlB,CAAuB,UAAAtC,CAAC;AAAA,SAAIA,CAAC,CAACuC,IAAF,EAAJ;AAAA,CAAxB,EAAsCD,IAAtC,CAA2C,UAAArD,IAAI,EAAI;AAC/C,SAAOA,IAAI,CAAC,GAAD,CAAX;AACA,SAAOA,IAAI,CAAC,GAAD,CAAX;AACA,SAAOA,IAAI,CAAC,GAAD,CAAX;AACAD,EAAAA,OAAO,CAACC,IAAD,CAAP;AACH,CALD","file":"hcc-cities.e31bb0bc.map","sourceRoot":"..","sourcesContent":["const url = 'https://api.myjson.com/bins/1cdh68'\n\n\nmodule.exports = {\n    url\n}","const cities = require('./iller.json')\nconst centroids = require('./iller-orta.json')\nconst config = require('./config')\nconst map = document.querySelector('#turkey-svg-cities-continer .map-container .map')\nconst mapHeader = document.querySelector('#turkey-svg-cities-continer .map-container .map-header')\nconst menu = document.querySelector('#turkey-svg-cities-continer .map-menu')\n\n// [ 2857405, 4275017 ], [ 2857405, 5175729 ], [ 4989109, 5175729 ], [ 4989109, 4275017 ], [ 2857405, 4275017 ] //bbox\nconst loadSvg = function(data){\n    const xSpace = 1420\n    const ySpace = 2590\n    let pointArray = ''\n    let totalMosqueCount = 0\n    for(const index in cities.features){\n        const feature = cities.features[index]\n        const code = centroids.features[index].properties.ILKOD\n        const name = centroids.features[index].properties.NAME\n        let [x, y] = centroids.features[index].geometry.coordinates\n        x = parseInt((x/2000) - xSpace)\n        y = parseInt(ySpace - (y/2000))\n        pointArray += `<g>`\n        for (const polygon of feature.geometry.coordinates) {\n            let points = ''\n            for (const [_x, _y] of polygon[0]) {\n                points += `${parseInt((_x/2000) - xSpace)},${parseInt(ySpace - (_y/2000))} `\n            }\n            pointArray +=`<polygon points=\"${points}\"/>`\n        }\n        if(data[code] && data[code].sayi){\n            totalMosqueCount += data[code].sayi\n        }\n        pointArray += `\n        <text x=\"${x}\" y=\"${y}\" fill=\"white\">\n            <tspan text-anchor=\"middle\">${data[code] ? (data[code].a + data[code].b + data[code].c): '-'}</tspan>\n            </text>\n            <desc>${data[code] ? JSON.stringify({...data[code], name, success: true}): JSON.stringify({name})}</desc>\n        </g>`\n    }\n    if(!isNaN(totalMosqueCount)){\n        mapHeader.innerHTML = 'Toplam Cami ' + totalMosqueCount\n    }\n    let svg = `\n    <svg viewBox=\"0 0 1080 460\" width=\"100%\">\n    ${pointArray}\n    </svg>\n    `\n    map.innerHTML = svg\n    \n    const [city, categoryA, categoryB, categoryC, categoryTotal, countOfMosque] = menu.querySelectorAll('li span')\n    // console.log('city', city)\n    const citiesPolygons = map.querySelectorAll('svg g')\n    let oldPolygons\n    const onEnter = function(){\n        if(oldPolygons){\n            oldPolygons.forEach(oldPolygon => {\n                oldPolygon.style.fill = ''\n            })\n        }\n        oldPolygons = []\n        this.querySelectorAll('polygon').forEach(polygon => {\n            oldPolygons.push(polygon)\n            polygon.style.fill = '#f49225'\n        })\n        const data = this.querySelector('desc')\n        if(data.innerHTML && JSON.parse(data.innerHTML).success){\n            // menu.style.display = 'flex'\n            menu.style.opacity = 1\n            const cityData = JSON.parse(data.innerHTML)\n            city.innerHTML = cityData.name\n            categoryA.innerHTML = cityData.a\n            categoryB.innerHTML = cityData.b\n            categoryC.innerHTML = cityData.c\n            categoryTotal.innerHTML = cityData.a + cityData.b + cityData.c\n            countOfMosque.innerHTML = cityData.sayi\n        }else{\n            // menu.style.opacity = 0\n            city.innerHTML = JSON.parse(data.innerHTML).name\n            categoryA.innerHTML = 0\n            categoryB.innerHTML = 0\n            categoryC.innerHTML = 0\n            categoryTotal.innerHTML = 0\n            countOfMosque.innerHTML = 0\n        }\n    }\n    const onLeave = function(){\n        this.querySelectorAll('polygon').forEach(polygon => {\n            polygon.style.fill = ''\n        })\n        menu.style.opacity = 0\n    }\n    // const onMove = function(event){\n    //     menu.style.left = event.clientX + 30\n    //     menu.style.top = event.clientY\n    // }\n    citiesPolygons.forEach(city => {\n        city.addEventListener('click', onEnter)\n        // city.addEventListener('mouseleave', onLeave)\n        // city.addEventListener('mousemove', onMove)\n    })\n}\n\nfetch(config.url).then(x => x.json()).then(data => {\n    delete data[\"1\"]\n    delete data[\"2\"]\n    delete data[\"3\"]\n    loadSvg(data)\n})"]}